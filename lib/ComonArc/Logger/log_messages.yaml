# Log messages
# Generic format for logs:
# LOG_[SUBSYSTEM]_[LEVEL]_[MESSAGE]
#   subsystem: [SUBSYSTEM]
#   level: [LEVEL]
#   args: [[ARG_0_TYPE], [ARG_1_TYPE], ...]
#   format: "Text and arguments {0} and {1} go here"

# ------------------------------
# Global definitions
# ------------------------------

subsystems:
  - LOGGER
  - COMMAND
  - SERVO
  - MAGNETOMETER
  - CURRENT
  - USER_INTERFACE
  - SYSTEM

# In order, most critical first
levels:
  - ERROR
  - EVENT
  - DATA
  - TRACE

args: 
  - u8
  - i8
  - u16
  - i16
  - u32
  - i32
  - f32

# ------------------------------
# Log messages
# ------------------------------

messages:

#LOGGER
  LOG_LOGGER_ERROR_BUFFER_OVERFLOW:
    subsystem: LOGGER
    level: ERROR
    args: []
    format: "Message buffer overflow, too many messages were accumulated"

  LOG_LOGGER_TRACE_LOGGER_INITIALIZED:
    subsystem: LOGGER
    level: TRACE
    args: []
    format: "Logger Initialized"

  LOG_LOGGER_TRACE_TRANSMITTER_INITIALIZED:
    subsystem: LOGGER
    level: TRACE
    args: []
    format: "Logger Initialized"


#COMMAND HANDLER
  LOG_COMMAND_ERROR_FALSE_ALARM:
    subsystem: COMMAND
    level: ERROR
    args: []
    format: "Error command triggered!"

  LOG_COMMAND_ERROR_RECEIVER_INITIALIZATION_FAILED:
    subsystem: COMMAND
    level: ERROR
    args: []
    format: "Receiver initialization failed"

  LOG_COMMAND_ERROR_RECEIVER_ERROR_CODE:
    subsystem: COMMAND
    level: ERROR
    args: [u8]
    format: "Receiver got error from handler: code {0}"

  LOG_COMMAND_ERROR_RECEIVER_BUFFER_OVERFLOW:
    subsystem: COMMAND
    level: ERROR
    args: []
    format: "Receiver buffer overflow"

  LOG_COMMAND_EVENT_PING:
    subsystem: COMMAND
    level: EVENT
    args: []
    format: "Pingback"

  LOG_COMMAND_EVENT_COMMAND_EXECUTED:
    subsystem: COMMAND
    level: EVENT
    args: []
    format: "Command received and executed"

  LOG_COMMAND_EVENT_RECEIVER_TIMEOUT:
    subsystem: COMMAND
    level: EVENT
    args: []
    format: "Receiver suffered a timeout, command buffer is reset"

  LOG_COMMAND_TRACE_COMMAND_HANDLER_INITIALIZED:
    subsystem: COMMAND
    level: TRACE
    args: []
    format: "Command Handler initialized"

  LOG_COMMAND_TRACE_RECEIVER_INITIALIZED:
    subsystem: COMMAND
    level: TRACE
    args: []
    format: "Receiver initialized"

#SERVO CONTROLLER
  LOG_SERVO_DATA_DIRECTION:
    subsystem: SERVO
    level: DATA
    args: [i16]
    format: "Servo arm: {0} deg"

  LOG_SERVO_DATA_REFERENCE:
    subsystem: SERVO
    level: DATA
    args: [i16]
    format: "Yaw Controller Reference: {0} deg"

  LOG_SERVO_TRACE_INITIALIZED:
    subsystem: SERVO
    level: TRACE
    args: []
    format: "Servo Initialized"

#MAGNETOMETER
  LOG_MAGNETOMETER_ERROR_INITIALIZATION_FAILED:
    subsystem: MAGNETOMETER
    level: ERROR
    args: []
    format: "Magnetometer initialization failed"

  LOG_MAGNETOMETER_EVENT_NEW_READ_FAILED:
    subsystem: MAGNETOMETER
    level: EVENT
    args: []
    format: "New read attempt failed"

  LOG_MAGNETOMETER_DATA_READING:
    subsystem: MAGNETOMETER
    level: DATA
    args: [i16]
    format: "Magnetometer direction: {0} deg"

  LOG_MAGNETOMETER_TRACE_INITIALIZATION:
    subsystem: MAGNETOMETER
    level: TRACE
    args: []
    format: "Magnetometer initialized"

#CURRENT SENSOR
  LOG_CURRENT_ERROR_INITIALIZATION_FAILED_ADC:
    subsystem: CURRENT
    level: ERROR
    args: []
    format: "No pin assigned to ADC"

  LOG_CURRENT_ERROR_INITIALIZATION_FAILED:
    subsystem: CURRENT
    level: ERROR
    args: []
    format: "Initialization failed, no ADC parameters"

  LOG_CURRENT_DATA_READING:
    subsystem: CURRENT
    level: DATA
    args: [i16]
    format: "Current sensor reading: {0} uA"

  LOG_CURRENT_TRACE_INITIALIZATION:
    subsystem: CURRENT
    level: TRACE
    args: []
    format: "Current sensor initialized"

#USER INTERFACE
  LOG_USER_INTERFACE_ERROR_INITIALIZATION_FAILED:
    subsystem: USER_INTERFACE
    level: ERROR
    args: []
    format: "User Interface initialization failed"

  LOG_USER_INTERFACE_EVENT_BUTTON:
    subsystem: USER_INTERFACE
    level: EVENT
    args: []
    format: "Button pressed"

  LOG_USER_INTERFACE_DATA_BUTTON_STATE:
    subsystem: USER_INTERFACE
    level: DATA
    args: [u8]
    format: "Button state: {0}"

  LOG_USER_INTERFACE_TRACE_INITIALIZED:
    subsystem: USER_INTERFACE
    level: TRACE
    args: []
    format: "User interface initialized"

#SYSTEM
  LOG_SYSTEM_TRACE_INITIALIZED:
    subsystem: SYSTEM
    level: TRACE
    args: []
    format: "Initialized"

  LOG_SYSTEM_TRACE_LOOP_TIME:
    subsystem: SYSTEM
    level: TRACE
    args: [i32]
    format: "Loop time: {0} us"